

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="smilinh-sheep">
  <meta name="keywords" content="">
  
    <meta name="description" content="1. 实现流程 先设计数据库 后端接口 初始化后台管理的vue项目，运行项目 完善main.js中相关依赖包的引入 修改App.vue, 添加router-view 创建一级路由组件，并且配置路由, 完成路由拦截的功能 对后端接口API进行封装 完成登录页的逻辑 后台管理主页面的布局  2. 数据库中表的设计 为了便于用户表和菜单表参考角色表，role放在user下面  表2：user   use">
<meta property="og:type" content="article">
<meta property="og:title" content="21-后台管理系统-实现流程">
<meta property="og:url" content="http://example.com/2022/05/26/21-%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F-%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B/index.html">
<meta property="og:site_name" content="lldBlog">
<meta property="og:description" content="1. 实现流程 先设计数据库 后端接口 初始化后台管理的vue项目，运行项目 完善main.js中相关依赖包的引入 修改App.vue, 添加router-view 创建一级路由组件，并且配置路由, 完成路由拦截的功能 对后端接口API进行封装 完成登录页的逻辑 后台管理主页面的布局  2. 数据库中表的设计 为了便于用户表和菜单表参考角色表，role放在user下面  表2：user   use">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-05-26T04:12:57.000Z">
<meta property="article:modified_time" content="2023-10-21T12:32:21.829Z">
<meta property="article:author" content="smilinh-sheep">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>21-后台管理系统-实现流程 - lldBlog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    <meta name="referrer" content="no-referrer"/>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>lldblog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="21-后台管理系统-实现流程"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-05-26 12:12" pubdate>
          2022年5月26日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          50k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          414 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">21-后台管理系统-实现流程</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="1-实现流程"><a href="#1-实现流程" class="headerlink" title="1. 实现流程"></a>1. 实现流程</h1><ul>
<li>先设计数据库</li>
<li>后端接口</li>
<li>初始化后台管理的vue项目，运行项目</li>
<li>完善main.js中相关依赖包的引入</li>
<li>修改App.vue, 添加router-view</li>
<li>创建一级路由组件，并且配置路由, 完成路由拦截的功能</li>
<li>对后端接口API进行封装</li>
<li>完成登录页的逻辑</li>
<li>后台管理主页面的布局</li>
</ul>
<h1 id="2-数据库中表的设计"><a href="#2-数据库中表的设计" class="headerlink" title="2. 数据库中表的设计"></a>2. 数据库中表的设计</h1><blockquote>
<p>为了便于用户表和菜单表参考角色表，role放在user下面</p>
</blockquote>
<h2 id="表2：user"><a href="#表2：user" class="headerlink" title="表2：user"></a>表2：user</h2><table>
<thead>
<tr>
<th>userId</th>
<th>account</th>
<th>pw</th>
<th>truename</th>
<th>role</th>
<th>roleId</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>ren</td>
<td>123</td>
<td>任正非</td>
<td>admin</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>zhang</td>
<td>123</td>
<td>张雪峰</td>
<td>teacher</td>
<td>2</td>
</tr>
<tr>
<td>3</td>
<td>kang</td>
<td>123</td>
<td>康辉</td>
<td>teacher</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>wang</td>
<td>123</td>
<td>王宁</td>
<td>hr</td>
<td>3</td>
</tr>
<tr>
<td>5</td>
<td>li</td>
<td>123</td>
<td>李冰</td>
<td>finance</td>
<td>4</td>
</tr>
<tr>
<td>6</td>
<td>sa</td>
<td>123</td>
<td>撒贝宁</td>
<td>ht</td>
<td>5</td>
</tr>
</tbody></table>
<h2 id="表1：-role"><a href="#表1：-role" class="headerlink" title="表1： role"></a>表1： role</h2><table>
<thead>
<tr>
<th>roleId</th>
<th>role</th>
<th>角色说明</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>admin</td>
<td>管理员，有所有权限</td>
</tr>
<tr>
<td>2</td>
<td>teacher</td>
<td>教师，没有添加学员、学员缴费、教师管理等权限</td>
</tr>
<tr>
<td>3</td>
<td>hr</td>
<td>人资，只有教师管理权限</td>
</tr>
<tr>
<td>4</td>
<td>finance</td>
<td>财务，有添加学员，工资查询的权限</td>
</tr>
<tr>
<td>5</td>
<td>ht</td>
<td>header teacher 班主任，没有教师管理的权限</td>
</tr>
</tbody></table>
<h2 id="表3：-navMenu"><a href="#表3：-navMenu" class="headerlink" title="表3： navMenu"></a>表3： navMenu</h2><blockquote>
<p>参考下方需要动态添加的菜单，及导航菜单对应的权限说明</p>
</blockquote>
<table>
<thead>
<tr>
<th>navId</th>
<th>title</th>
<th>name</th>
<th>url</th>
<th>component</th>
<th>roleId</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>班级管理</td>
<td>classAdmin</td>
<td>&#x2F;classAdmin</td>
<td>classAdmin</td>
<td>1,5</td>
<td>班级增删改查</td>
</tr>
<tr>
<td>2</td>
<td>新生报名</td>
<td>addStu</td>
<td>&#x2F;addStu</td>
<td>addStu</td>
<td>1,4</td>
<td>添加新生信息，缴费，延迟缴费、补费</td>
</tr>
<tr>
<td>3</td>
<td>学员信息</td>
<td>stuInfo</td>
<td>&#x2F;stuInfo</td>
<td>stuInfo</td>
<td>1,2,5</td>
<td>学员查询、改、删</td>
</tr>
<tr>
<td>4</td>
<td>阶段成绩</td>
<td>stuScore</td>
<td>&#x2F;stuScore</td>
<td>stuScore</td>
<td>1,2,5</td>
<td>成绩增删改查</td>
</tr>
<tr>
<td>5</td>
<td>缴费信息</td>
<td>pay</td>
<td>&#x2F;pay</td>
<td>pay</td>
<td>1,4,5</td>
<td>缴费信息查询，改</td>
</tr>
<tr>
<td>6</td>
<td>教师信息</td>
<td>teacherInfo</td>
<td>&#x2F;teacherInfo</td>
<td>teacherInfo</td>
<td>1,3</td>
<td>教师信息增删改查</td>
</tr>
<tr>
<td>7</td>
<td>课时统计</td>
<td>teacherHour</td>
<td>&#x2F;teacherHour</td>
<td>teacherHour</td>
<td>1,3</td>
<td>课时统计增删改查</td>
</tr>
<tr>
<td>8</td>
<td>工资查询</td>
<td>salary</td>
<td>&#x2F;salary</td>
<td>salary</td>
<td>1,3</td>
<td>工资增删改查</td>
</tr>
</tbody></table>
<h2 id="需动态添加路由的菜单"><a href="#需动态添加路由的菜单" class="headerlink" title="需动态添加路由的菜单"></a>需动态添加路由的菜单</h2><table>
<thead>
<tr>
<th>菜单</th>
<th>页面</th>
</tr>
</thead>
<tbody><tr>
<td>班级管理</td>
<td>1. 班级列表（增删改查）</td>
</tr>
<tr>
<td>学生管理</td>
<td>2. 新生报名、3. 学员信息，4. 阶段成绩、5.缴费信息</td>
</tr>
<tr>
<td>教师管理</td>
<td>6.教师信息、 7.课时统计、 8.工资查询</td>
</tr>
</tbody></table>
<h2 id="权限说明"><a href="#权限说明" class="headerlink" title="权限说明"></a>权限说明</h2><table>
<thead>
<tr>
<th>角色</th>
<th>权限说明&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</th>
</tr>
</thead>
<tbody><tr>
<td>管理员 (admin)</td>
<td>所有权限</td>
</tr>
<tr>
<td>教师 (teacher)</td>
<td>首页，班级列表、学员信息 、阶段成绩</td>
</tr>
<tr>
<td>人资 (hr)</td>
<td>教师信息，课时统计，工资查询</td>
</tr>
<tr>
<td>财务(finance)</td>
<td>新生报名，缴费信息</td>
</tr>
<tr>
<td>班主任(head teacher)</td>
<td>首页，班级列表、学员信息、 阶段成绩、缴费信息</td>
</tr>
</tbody></table>
<h2 id="表4：-班级表-classInfo-5个字段"><a href="#表4：-班级表-classInfo-5个字段" class="headerlink" title="表4： 班级表  classInfo  (5个字段)"></a>表4： 班级表  classInfo  (5个字段)</h2><table>
<thead>
<tr>
<th>classId</th>
<th>className</th>
<th>classroom</th>
<th>ht</th>
<th>startDate</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>H5-20211010</td>
<td>嵩山</td>
<td>焦跃欢</td>
<td>2021-10-10</td>
</tr>
<tr>
<td>2</td>
<td>Java-20210918</td>
<td>云台山</td>
<td>王趁红</td>
<td>2021-09-18</td>
</tr>
<tr>
<td>3</td>
<td>UI-20210925</td>
<td>桐柏山</td>
<td>徐丹</td>
<td>2021-09-25</td>
</tr>
</tbody></table>
<h2 id="表5：-学生信息表-（15个字段）"><a href="#表5：-学生信息表-（15个字段）" class="headerlink" title="表5： 学生信息表 （15个字段）"></a>表5： 学生信息表 （15个字段）</h2><p>包括四个阶段的成绩</p>
<table>
<thead>
<tr>
<th>stuId</th>
<th>classId</th>
<th>name</th>
<th>age</th>
<th>gender</th>
<th>tel</th>
<th>idCard</th>
<th>address</th>
<th>imgUrl</th>
<th>pay</th>
<th>payStatus</th>
<th>level1</th>
<th>level2</th>
<th>level3</th>
<th>level4</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>2</td>
<td>韦东奕</td>
<td>20</td>
<td>男</td>
<td>1396</td>
<td>410</td>
<td>北京大学</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>曹操</td>
<td>30</td>
<td>男</td>
<td>110</td>
<td>110</td>
<td>四川</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>王安石</td>
<td>32</td>
<td>女</td>
<td>120</td>
<td>120</td>
<td>开封</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="表6：教师信息"><a href="#表6：教师信息" class="headerlink" title="表6：教师信息"></a>表6：教师信息</h2><table>
<thead>
<tr>
<th>teacherId</th>
<th>name</th>
<th>major</th>
<th>age</th>
<th>gender</th>
<th>idCard</th>
<th>tel</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>欧阳修</td>
<td>H5</td>
<td>12</td>
<td>男</td>
<td>122</td>
<td>134</td>
</tr>
<tr>
<td>2</td>
<td>柳宗元</td>
<td>UI</td>
<td>34</td>
<td>女</td>
<td>123</td>
<td>145</td>
</tr>
<tr>
<td>3</td>
<td>苏轼</td>
<td>Java</td>
<td>45</td>
<td>女</td>
<td>456</td>
<td>678</td>
</tr>
</tbody></table>
<h2 id="表7：-教师课时"><a href="#表7：-教师课时" class="headerlink" title="表7： 教师课时"></a>表7： 教师课时</h2><blockquote>
<p>sql语句: </p>
</blockquote>
<p>baseSalary : 基本工资 ,  performance: 绩效 ,   subsidy: 补助</p>
<table>
<thead>
<tr>
<th>hourId</th>
<th>teacherId</th>
<th>month</th>
<th>hour</th>
<th>baseSalary</th>
<th>performance</th>
<th>subsidy</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>2</td>
<td>8</td>
<td>150</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>8</td>
<td>120</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>1</td>
<td>8</td>
<td>130</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>2</td>
<td>9</td>
<td>134</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>3</td>
<td>9</td>
<td>100</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>6</td>
<td>1</td>
<td>9</td>
<td>120</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id="3-云和教育接口文档（示例）"><a href="#3-云和教育接口文档（示例）" class="headerlink" title="3. 云和教育接口文档（示例）"></a>3. 云和教育接口文档（示例）</h1><h2 id="1-学生管理"><a href="#1-学生管理" class="headerlink" title="1. 学生管理"></a>1. 学生管理</h2><h3 id="1-1-添加新学员"><a href="#1-1-添加新学员" class="headerlink" title="1.1  添加新学员"></a>1.1  添加新学员</h3><p>接口描述： </p>
<p>请求url:   &#x2F;student</p>
<p>请求方式：  post</p>
<p>请求参数： </p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>参数说明</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>string</td>
<td>学生姓名</td>
</tr>
<tr>
<td>classId</td>
<td>number</td>
<td>学生班级</td>
</tr>
</tbody></table>
<p>返回参数：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123;<br>	<span class="hljs-selector-tag">code</span>: <span class="hljs-number">0</span>,<br>	msg: <span class="hljs-string">&#x27;添加成功&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="1-2-查询指定学员"><a href="#1-2-查询指定学员" class="headerlink" title="1.2  查询指定学员"></a>1.2  查询指定学员</h3><p>请求url:   &#x2F;student&#x2F;:stuId</p>
<p>请求方式：  get</p>
<p>请求参数： </p>
<table>
<thead>
<tr>
<th>参数名称</th>
<th>数据类型</th>
<th>参数说明</th>
</tr>
</thead>
<tbody><tr>
<td>stuId</td>
<td>number</td>
<td>学生Id</td>
</tr>
</tbody></table>
<p>返回：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123;<br>	<span class="hljs-selector-tag">code</span>: <span class="hljs-number">0</span>,<br>	list: [<br>		&#123;<br>		   name:<span class="hljs-string">&#x27;&#x27;</span>,<br>		   gender: <span class="hljs-string">&#x27;&#x27;</span><br>		&#125;<br>	]<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="2-班级管理-（新增）"><a href="#2-班级管理-（新增）" class="headerlink" title="2. 班级管理 （新增）"></a>2. 班级管理 （新增）</h2><p>​	请求URL:   &#x2F;class</p>
<p>​	请求方式：  post</p>
<p>​	请求参数： className, classroom, ht, startDate(日期)</p>
<p>​	返回： </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>成功<br>  &#123;<br>      code: <span class="hljs-number">0</span>,<br>      msg: <span class="hljs-string">&#x27;添加成功&#x27;</span><br>  &#125;<br><span class="hljs-regexp">//</span>失败<br> &#123;<br>     code: <span class="hljs-number">1</span>,<br>     msg: <span class="hljs-string">&#x27;添加失败&#x27;</span><br> &#125;<br></code></pre></td></tr></table></figure>

<h2 id="3-班级管理-（删除）"><a href="#3-班级管理-（删除）" class="headerlink" title="3. 班级管理 （删除）"></a>3. 班级管理 （删除）</h2><p>​	请求URL:   &#x2F;class</p>
<p>​	请求方式：  delete</p>
<p>​	请求参数： id (number)</p>
<p>​	返回： </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>成功<br>  &#123;<br>      code: <span class="hljs-number">0</span>,<br>      msg: <span class="hljs-string">&#x27;删除成功&#x27;</span><br>  &#125;<br><span class="hljs-regexp">//</span>失败<br> &#123;<br>     code: <span class="hljs-number">1</span>,<br>     msg: <span class="hljs-string">&#x27;删除失败&#x27;</span><br> &#125;<br></code></pre></td></tr></table></figure>

<h2 id="4-班级管理-（修改）"><a href="#4-班级管理-（修改）" class="headerlink" title="4. 班级管理 （修改）"></a>4. 班级管理 （修改）</h2><p>​	请求URL:   &#x2F;class</p>
<p>​	请求方式：  put</p>
<p>​	请求参数： classId(数字型), className, classroom, ht, startDate</p>
<blockquote>
<p>classId是必传参数</p>
</blockquote>
<p>​	返回： </p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>成功<br>  &#123;<br>      code: <span class="hljs-number">0</span>,<br>      msg: <span class="hljs-string">&#x27;更新成功&#x27;</span><br>  &#125;<br><span class="hljs-regexp">//</span>失败<br> &#123;<br>     code: <span class="hljs-number">1</span>,<br>     msg: <span class="hljs-string">&#x27;更新失败&#x27;</span><br> &#125;<br></code></pre></td></tr></table></figure>

<h2 id="5-班级管理-（查询）"><a href="#5-班级管理-（查询）" class="headerlink" title="5. 班级管理 （查询）"></a>5. 班级管理 （查询）</h2><p>​	请求URL:   &#x2F;class</p>
<p>​	请求方式：  get</p>
<p>​	请求参数： page (可选)</p>
<p>​	返回： </p>
<h2 id="6-添加新生-新增"><a href="#6-添加新生-新增" class="headerlink" title="6. 添加新生 (新增)"></a>6. 添加新生 (新增)</h2><p>​	请求URL:   &#x2F;student</p>
<p>​	请求方式：  post</p>
<p>​	请求参数：name, age, gender, pay(缴费金额),  payStatus（缴费状态： 试听，欠费，已缴费）,classId（班级id）,imgUrl (学生照片)</p>
<p>​	返回：  成功，code&#x3D;0  失败： code&#x3D;1</p>
<h2 id="7-查询指定开班状态的班级信息"><a href="#7-查询指定开班状态的班级信息" class="headerlink" title="7. 查询指定开班状态的班级信息"></a>7. 查询指定开班状态的班级信息</h2><p>​	请求URL:   &#x2F;class&#x2F;:classStatus</p>
<p>​	示例：  &#x2F;class&#x2F;0</p>
<p>​	请求方式：  get</p>
<p>​	请求参数：classStatus: 0未开班 1 已封班 2已结课 </p>
<p>​	返回：  </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123;<br>	<span class="hljs-selector-tag">code</span>: <span class="hljs-number">0</span>,<br>	list: [&#123;&#125;,&#123;&#125;]<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="8-查询学生信息-查询"><a href="#8-查询学生信息-查询" class="headerlink" title="8. 查询学生信息 (查询)"></a>8. 查询学生信息 (查询)</h2><p>​	请求URL:   &#x2F;student</p>
<p>​	请求方式：  get</p>
<p>​	请求参数：page (必选)  classId(可选)</p>
<p>​	返回：  </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css">&#123;<br>	<span class="hljs-selector-tag">code</span>: <span class="hljs-number">0</span>,<br>	list: [<br>	 &#123;<br>	 	<br>     &#125;<br>	]<br>&#125;<br></code></pre></td></tr></table></figure>

<h1 id="4-main-js中依赖包的引入"><a href="#4-main-js中依赖包的引入" class="headerlink" title="4. main.js中依赖包的引入"></a>4. main.js中依赖包的引入</h1><ul>
<li><p>reset.css</p>
</li>
<li><p>elementui</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">ElementUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-ui&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@/assets/css/reset.css&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementUI</span>);<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  router,<br>  store,<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>)<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="5-App-vue"><a href="#5-App-vue" class="headerlink" title="5. App.vue"></a>5. App.vue</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>/&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-tag">html</span>,<span class="hljs-selector-tag">body</span>,<span class="hljs-selector-id">#app</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<h1 id="6-配置一级路由，完成路由拦截"><a href="#6-配置一级路由，完成路由拦截" class="headerlink" title="6. 配置一级路由，完成路由拦截"></a>6. 配置一级路由，完成路由拦截</h1><ul>
<li><p>创建一级路由组件</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs stylus">login<span class="hljs-selector-class">.vue</span><br>layout<span class="hljs-selector-class">.vue</span><br><span class="hljs-number">404</span>.vue<br></code></pre></td></tr></table></figure>
</li>
<li><p>配置路由</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">const routes = [<br>  &#123;<br>    <span class="hljs-regexp">//</span> 管理后台的主页面<br>    path: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    name: <span class="hljs-string">&#x27;layout&#x27;</span>,<br>    component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    path: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>    name: <span class="hljs-string">&#x27;login&#x27;</span>,<br>    component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/login&#x27;</span>)<br>  &#125;,<br>  &#123;<br>    path: <span class="hljs-string">&#x27;*&#x27;</span>,<br>    name: <span class="hljs-string">&#x27;404&#x27;</span>,<br>    component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/404&#x27;</span>)<br>  &#125;<br>]<br><br>const router = <span class="hljs-keyword">new</span> VueRouter(&#123;<br>  routes<br>&#125;)<br><br><span class="hljs-regexp">//</span>***********************************全局前置守卫<br><br><span class="hljs-regexp">//</span> 假设没登录时，非法进入管理主页面  <span class="hljs-string">&quot;/&quot;</span><br><span class="hljs-regexp">//</span> 假设没登录时，进入登录页  <span class="hljs-string">&quot;/login&quot;</span><br><span class="hljs-regexp">//</span> 假设登录过，进入管理页  <span class="hljs-string">&quot;/&quot;</span><br><br>router.beforeEach(<span class="hljs-function"><span class="hljs-params">(to, <span class="hljs-keyword">from</span>, next)</span> =&gt;</span> &#123;<br>  let token = sessionStorage.getItem(<span class="hljs-string">&quot;token&quot;</span>)<br>  <span class="hljs-keyword">if</span> (to.fullPath === <span class="hljs-string">&quot;/login&quot;</span>) &#123;<br>    next()<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">if</span> (token) &#123;<br>      next()<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      next(<span class="hljs-string">&quot;/login&quot;</span>)<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="7-对后端接口API进行封装"><a href="#7-对后端接口API进行封装" class="headerlink" title="7. 对后端接口API进行封装"></a>7. 对后端接口API进行封装</h1><ul>
<li><p>config.js</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br><br><span class="hljs-keyword">const</span> instance = axios.<span class="hljs-title function_">create</span>(&#123;<br>    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">&#x27;http://localhost:3000&#x27;</span>,<br>    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span><br>&#125;); <br><br><span class="hljs-comment">//添加请求拦截器，会在发起请求之前执行相应的需求</span><br>instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) &#123;<br>    <span class="hljs-keyword">let</span> token = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;token&quot;</span>)<br>    <span class="hljs-keyword">if</span> (token)&#123;<br>        config.<span class="hljs-property">headers</span>.<span class="hljs-property">common</span>[<span class="hljs-string">&#x27;Authorization&#x27;</span>] = <span class="hljs-string">&#x27;Bearer &#x27;</span> + token;<br>    &#125;<br>    <span class="hljs-keyword">return</span> config;<br>  &#125;, <span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br>    <span class="hljs-comment">// Do something with request error</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);<br>  &#125;);<br><br><span class="hljs-comment">//添加响应拦截器，会在返回数据后先执行相应的需求</span><br>instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;res&#x27;</span>,response);<br>    <span class="hljs-keyword">return</span> response;<br>  &#125;, <span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;res-err&#x27;</span>,response);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(error);<br>  &#125;);<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> instance<br></code></pre></td></tr></table></figure>


</li>
<li><p>http.js</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs awk">import axios from <span class="hljs-string">&#x27;./config&#x27;</span><br><br><span class="hljs-regexp">//</span>用户登录<br><br><span class="hljs-regexp">//</span> 第一种写法<br><span class="hljs-regexp">//</span> export <span class="hljs-keyword">function</span> login(data)&#123;<br><span class="hljs-regexp">//</span>     return axios(&#123;<br><span class="hljs-regexp">//</span>         url: <span class="hljs-string">&#x27;/login&#x27;</span>,<br><span class="hljs-regexp">//</span>         method: <span class="hljs-string">&quot;post&quot;</span>,<br><span class="hljs-regexp">//</span>         data<br><span class="hljs-regexp">//</span>     &#125;)<br><span class="hljs-regexp">//</span> &#125;<br><br><span class="hljs-regexp">//</span> 第二种写法<br>export const login = data =&gt; axios.post(<span class="hljs-string">&quot;/login&quot;</span>, data)<br><br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="8-登录页的逻辑"><a href="#8-登录页的逻辑" class="headerlink" title="8. 登录页的逻辑"></a>8. 登录页的逻辑</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;login&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 表单 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-form</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:model</span>=<span class="hljs-string">&quot;ruleForm&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">status-icon</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:rules</span>=<span class="hljs-string">&quot;rules&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ruleForm&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">label-width</span>=<span class="hljs-string">&quot;100px&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo-ruleForm&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>      <span class="hljs-comment">&lt;!-- 账号 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;账号&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;account&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;ruleForm.account&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span></span><br><span class="hljs-tag">        &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- 密码 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;密码&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;pw&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span></span><br><span class="hljs-tag">          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;ruleForm.pw&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span></span><br><span class="hljs-tag">        &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- 提交按钮 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;submitForm(&#x27;ruleForm&#x27;)&quot;</span></span><br><span class="hljs-tag">          &gt;</span>提交&lt;/el-button<br>        &gt;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;resetForm(&#x27;ruleForm&#x27;)&quot;</span>&gt;</span>重置<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123; login &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/api/http.js&quot;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">  <span class="hljs-comment">//**********************************编写验证器函数，进行有效性验证</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkPw</span> = (<span class="hljs-params">rule, value, callback</span>) =&gt; &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (!value) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-title function_">callback</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;密码不能为空&quot;</span>));</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^\w&#123;3,5&#125;$/i</span>.<span class="hljs-title function_">test</span>(value)) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-title function_">callback</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;密码在3-5位字符串&quot;</span>));</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-title function_">callback</span>();</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">    </span><br><span class="language-javascript">    </span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">ruleForm</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">account</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">pw</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      </span><br><span class="language-javascript">      <span class="hljs-comment">//*********************************验证规则</span></span><br><span class="language-javascript">      <span class="hljs-attr">rules</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">account</span>: [</span><br><span class="language-javascript">          &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;此项必填&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,</span><br><span class="language-javascript">          &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;必须是2-5个字符&quot;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;,</span><br><span class="language-javascript">        ],</span><br><span class="language-javascript">        <span class="hljs-attr">pw</span>: [&#123; <span class="hljs-attr">validator</span>: checkPw, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;blur&quot;</span> &#125;],</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// ************************************处理登录后成功或失败的逻辑</span></span><br><span class="language-javascript">    <span class="hljs-title function_">handleLogin</span>(<span class="hljs-params">res</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> &#123; code, token &#125; = res.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">//成功登录</span></span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;token&quot;</span>, token);</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;/&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;登录成功&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">//*************************重置表单数据</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">&#x27;ruleForm&#x27;</span>].<span class="hljs-title function_">resetFields</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//登录失败</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;登录失败&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">//******************************************提交时要先验证每个字段的有效性，全通过，valid为真</span></span><br><span class="language-javascript">    <span class="hljs-comment">//******************************************aync和await的写法</span></span><br><span class="language-javascript">    <span class="hljs-comment">//******************************************登录成功后逻辑的拆分</span></span><br><span class="language-javascript">    <span class="hljs-title function_">submitForm</span>(<span class="hljs-params">formName</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[formName].<span class="hljs-title function_">validate</span>(<span class="hljs-keyword">async</span> (valid) =&gt; &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">try</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">//登录之后处理</span></span><br><span class="language-javascript">          <span class="hljs-keyword">if</span> (valid) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">//登录</span></span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">login</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">ruleForm</span>);</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleLogin</span>(res);</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error submit!!&quot;</span>);</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">catch</span> (err) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">resetForm</span>(<span class="hljs-params">formName</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[formName].<span class="hljs-title function_">resetFields</span>();</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h1 id="9-后台管理主页面的布局"><a href="#9-后台管理主页面的布局" class="headerlink" title="9. 后台管理主页面的布局"></a>9. 后台管理主页面的布局</h1><h2 id="1-目录结构-共涉及5个组件"><a href="#1-目录结构-共涉及5个组件" class="headerlink" title="1. 目录结构 (共涉及5个组件)"></a>1. 目录结构 (共涉及5个组件)</h2><ul>
<li><p>后台管理主页面 views&#x2F;layout&#x2F;index.vue </p>
</li>
<li><p>左侧导航： navMenu.vue  </p>
<ul>
<li>子组件： menuItem.vue</li>
</ul>
</li>
<li><p>顶部header:   vHeader.vue </p>
<ul>
<li>子组件： vTabs.vue</li>
</ul>
</li>
<li><p>内容主体:   <router-view></p>
</li>
</ul>
<h2 id="2-各个组件代码"><a href="#2-各个组件代码" class="headerlink" title="2. 各个组件代码"></a>2. 各个组件代码</h2><h3 id="2-1-动态路由数据-asyncRoutes-js"><a href="#2-1-动态路由数据-asyncRoutes-js" class="headerlink" title="2.1 动态路由数据 asyncRoutes.js"></a>2.1 动态路由数据 asyncRoutes.js</h3><p>@&#x2F;router&#x2F;asyncRoutes.js</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript">let asyncRoutes = [<br>    &#123;<br>        <span class="hljs-regexp">//</span> 管理后台的主页面<br>        path: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;layout&#x27;</span>,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        redirect: <span class="hljs-string">&#x27;/home/dashboard&#x27;</span>,<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;dashboard&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;dashboard&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/dashboard&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;首页&#x27;</span>,<br>                    icon: <span class="hljs-string">&quot;el-icon-eleme&quot;</span><br>                &#125;<br>            &#125;<br>        ]<br>    &#125;,<br>      <span class="hljs-regexp">//</span> 图表展示 <br>      &#123;<br>        path: <span class="hljs-string">&#x27;/charts&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;charts&#x27;</span>,<br>        meta: &#123;<br>            title: <span class="hljs-string">&#x27;图表展示&#x27;</span>,<br>            icon: <span class="hljs-string">&#x27;el-icon-location&#x27;</span><br>        &#125;,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/charts/bar.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;柱状图&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;pie&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;pie&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/charts/pie.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;饼图&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;<br>        ]<br><br>    &#125;,<br>    <span class="hljs-regexp">//</span> 学生管理 <br>    &#123;<br>        path: <span class="hljs-string">&#x27;/stuAdmin&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;stuAdmin&#x27;</span>,<br>        meta: &#123;<br>            title: <span class="hljs-string">&#x27;学生管理&#x27;</span>,<br>            icon: <span class="hljs-string">&#x27;el-icon-location&#x27;</span><br>        &#125;,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;addNewStu&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;addNewStu&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/stuAdmin/addNewStu.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;新生报名&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;adminClass&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;adminClass&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/stuAdmin/adminClass.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;班级管理&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;stuInfo&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;stuInfo&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/stuAdmin/stuInfo.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;学生信息&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;<br>        ]<br><br>    &#125;,<br><br>    <span class="hljs-regexp">//</span>教师管理<br>    &#123;<br>        path: <span class="hljs-string">&#x27;/teacherAdmin&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;teacherAdmin&#x27;</span>,<br>        meta: &#123;<br>            title: <span class="hljs-string">&#x27;教师管理1&#x27;</span><br>        &#125;,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;teacherInfo&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;teacherInfo&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/teacherAdmin/teacherInfo.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;教师信息&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;teacherHours&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;teacherHours&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/teacherAdmin/teacherHours.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;课时统计&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;teacherScore&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;teacherScore&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/teacherAdmin/teacherScore.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;教评分数&#x27;</span><br>                &#125;<br>            &#125;<br>        ]<br><br>    &#125;,<br><br>    <span class="hljs-regexp">//</span>公告信息<br>    &#123;<br>        path: <span class="hljs-string">&#x27;/notice&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;notice&#x27;</span>,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;notice&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/notice&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;公告信息&#x27;</span><br>                &#125;<br>            &#125;<br>        ]<br>    &#125;,<br><br>    <span class="hljs-regexp">//</span> 就业管理<br>    &#123;<br>        path: <span class="hljs-string">&#x27;/job&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;job&#x27;</span>,<br>        meta: &#123;<br>            title: <span class="hljs-string">&#x27;就业管理&#x27;</span><br>        &#125;,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;jobList&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/job/jobList&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;职位信息&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;jobAddress&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/job/jobAddress&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;就业地信息&#x27;</span><br>                &#125;<br>            &#125;<br>        ]<br>    &#125;,<br>]<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> asyncRoutes<br></code></pre></td></tr></table></figure>

<h3 id="2-2-主页面-views-x2F-layout-x2F-index-vue"><a href="#2-2-主页面-views-x2F-layout-x2F-index-vue" class="headerlink" title="2.2 主页面 views&#x2F;layout&#x2F;index.vue"></a>2.2 主页面 views&#x2F;layout&#x2F;index.vue</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">el-container</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 侧边栏 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-aside</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;collapse? &#x27;&#x27;:&#x27;active&#x27;&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">nav-menu</span> <span class="hljs-attr">:collapse</span>=<span class="hljs-string">&quot;collapse&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-aside</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 右侧内容 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-container</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 顶部 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-header</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">v-header</span> @<span class="hljs-attr">toggle</span>=<span class="hljs-string">&quot;toggle&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-header</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 主体内容 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-main</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span> /&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-main</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-container</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">el-container</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">NavMenu</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./navMenu.vue&quot;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">VHeader</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./vHeader.vue&quot;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">NavMenu</span>, <span class="hljs-title class_">VHeader</span> &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// console.log(&#x27;layout&#x27;);</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">collapse</span>: <span class="hljs-literal">false</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">toggle</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">collapse</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">collapse</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.el-container</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">40px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.el-header</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#b3c0d1</span>;</span><br><span class="language-css">  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">150px</span><span class="hljs-meta">!important</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.el-aside</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">84</span>, <span class="hljs-number">92</span>, <span class="hljs-number">100</span>);</span><br><span class="language-css">  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: auto<span class="hljs-meta">!important</span>;</span><br><span class="language-css">  &amp;<span class="hljs-selector-class">.active</span> &#123;</span><br><span class="language-css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span><span class="hljs-meta">!important</span>;</span><br><span class="language-css">  &#125;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.el-main</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e9eef3</span>;</span><br><span class="language-css">  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="2-3-左侧导航：-navMenu-vue"><a href="#2-3-左侧导航：-navMenu-vue" class="headerlink" title="2.3 左侧导航： navMenu.vue"></a>2.3 左侧导航： navMenu.vue</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nav-menu&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;logo&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;!collapse&quot;</span>&gt;</span>云和教育<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-menu</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:default-active</span>=<span class="hljs-string">&quot;$route.fullPath&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-menu-vertical-demo&quot;</span></span><br><span class="hljs-tag">      @<span class="hljs-attr">open</span>=<span class="hljs-string">&quot;handleOpen&quot;</span></span><br><span class="hljs-tag">      @<span class="hljs-attr">close</span>=<span class="hljs-string">&quot;handleClose&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">background-color</span>=<span class="hljs-string">&quot;#545c64&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">text-color</span>=<span class="hljs-string">&quot;#fff&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">active-text-color</span>=<span class="hljs-string">&quot;#ffd04b&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:collapse</span>=<span class="hljs-string">&quot;collapse&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:router</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:collapse-transition</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>      <span class="hljs-comment">&lt;!-- 遍历routesList --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">menu-item</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in routesList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.path&quot;</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">&quot;item&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> asyncRoutes <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/router/asyncRoutes&quot;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> menuItem <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./menuItem.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123; menuItem &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// collapse: &#123;</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   type: Boolean,</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   // 如果没有传参，则默认使用true</span></span><br><span class="language-javascript">    <span class="hljs-comment">//   default: true</span></span><br><span class="language-javascript">    <span class="hljs-comment">// &#125;,</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 要求传入的参数必须是布尔值，不是的话会在控制台警告</span></span><br><span class="language-javascript">    <span class="hljs-attr">collapse</span>: <span class="hljs-title class_">Boolean</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">routesList</span>: asyncRoutes,</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleOpen</span>(<span class="hljs-params">key, keyPath</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// console.log(key, keyPath);</span></span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">handleClose</span>(<span class="hljs-params">key, keyPath</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// console.log(key, keyPath);</span></span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">$route</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">handler</span>(<span class="hljs-params">to</span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;setTabList&quot;</span>,&#123;</span><br><span class="language-javascript">           <span class="hljs-attr">title</span>: to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>,</span><br><span class="language-javascript">           <span class="hljs-attr">path</span>: to.<span class="hljs-property">fullPath</span></span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.nav-menu</span> &#123;</span><br><span class="language-css">  <span class="hljs-selector-class">.logo</span> &#123;</span><br><span class="language-css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;</span><br><span class="language-css">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="language-css">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">  &#125;</span><br><span class="language-css">  <span class="hljs-selector-class">.home</span> &#123;</span><br><span class="language-css">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#f00</span>;</span><br><span class="language-css">  &#125;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-4-menuItem-vue"><a href="#2-4-menuItem-vue" class="headerlink" title="2.4 menuItem.vue"></a>2.4 menuItem.vue</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item.children.length === 1&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.path + &#x27;/&#x27; + item.children[0].path&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;home&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        &gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;item.children[0].meta.icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; item.children[0].meta.title &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-comment">&lt;!-- 学生管理 --&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.path&quot;</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;item.meta.icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; item.meta.title &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">          <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.path + &#x27;/&#x27; + smallItem.path&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;smallItem in item.children&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">            <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;smallItem.path&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">          &gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;smallItem.meta.icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; smallItem.meta.title &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">          <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> </span></span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">    props: &#123;</span><br><span class="hljs-template-variable">        item: Object</span><br><span class="hljs-template-variable">    &#125;</span><span class="language-xml"></span><br><span class="language-xml">&#125;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>



<h3 id="2-5-顶部header-vHeader-vue"><a href="#2-5-顶部header-vHeader-vue" class="headerlink" title="2.5 顶部header:   vHeader.vue"></a>2.5 顶部header:   vHeader.vue</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;v-header&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;toggle&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-s-unfold&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;collapse&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-s-fold&quot;</span> <span class="hljs-attr">v-else</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 面包屑 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>面包屑<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb</span> <span class="hljs-attr">separator-class</span>=<span class="hljs-string">&quot;el-icon-arrow-right&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb-item</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">&quot;&#123; path: &#x27;/home&#x27; &#125;&quot;</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb-item</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-breadcrumb-item</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in breadcrumbList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>&#123; &#123;<br>        item<br>      &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb-item</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-breadcrumb</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- tab标签页 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">v-tabs</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> vTabs <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./vTabs.vue&quot;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123; vTabs &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">collapse</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">breadcrumbList</span>: [],</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">toggle</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">collapse</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">collapse</span>;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.$emit(<span class="hljs-string">&quot;toggle&quot;</span>);</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">$route</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">handler</span>(<span class="hljs-params">to, <span class="hljs-keyword">from</span></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// [&#x27;学生管理&#x27;,&#x27;班级管理&#x27;,&quot;三级内容&quot;]</span></span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (to.<span class="hljs-property">fullPath</span> == <span class="hljs-string">&quot;/home/dashboard&quot;</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">breadcrumbList</span> = [];</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (to.<span class="hljs-property">matched</span>[<span class="hljs-number">0</span>].<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">breadcrumbList</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$route</span>.<span class="hljs-property">matched</span>.<span class="hljs-title function_">map</span>(</span><br><span class="language-javascript">            <span class="hljs-function">(<span class="hljs-params">record</span>) =&gt;</span> record.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span></span><br><span class="language-javascript">          );</span><br><span class="language-javascript">        &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">breadcrumbList</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$route</span>.<span class="hljs-property">matched</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">record</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> record.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-tag">i</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">50px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.el-breadcrumb</span> ::v-deep .el-breadcrumb__separator &#123;</span><br><span class="language-css">  <span class="hljs-attribute">color</span>: <span class="hljs-number">#000</span> <span class="hljs-meta">!important</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-6-子组件：-vTabs-vue"><a href="#2-6-子组件：-vTabs-vue" class="headerlink" title="2.6 子组件： vTabs.vue"></a>2.6 子组件： vTabs.vue</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;v-tabs&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in tabList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.path&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;del&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;del(index)&quot;</span>&gt;</span>X<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">&quot;item.path&quot;</span>&gt;</span>&#123; &#123; item.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">tabList</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">tabList</span></span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">del</span>(<span class="hljs-params">index</span>)&#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;delTabItem&quot;</span>,index)</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css">::v-deep .el-button &#123;</span><br><span class="language-css">    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#000</span>;</span><br><span class="language-css">    <span class="hljs-attribute">position</span>: relative;</span><br><span class="language-css">    <span class="hljs-selector-class">.del</span> &#123;</span><br><span class="language-css">        <span class="hljs-attribute">position</span>: absolute;</span><br><span class="language-css">        <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">    &#125;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="2-7-x2F-store-x2F-index-js"><a href="#2-7-x2F-store-x2F-index-js" class="headerlink" title="2.7 @&#x2F;store&#x2F;index.js"></a>2.7 @&#x2F;store&#x2F;index.js</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-attr">tabList</span>: [<br>      &#123;<br>        <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;首页&quot;</span>,<br>        <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home/dashboard&quot;</span>,<br>      &#125;<br>    ],<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-attr">setTabList</span>: <span class="hljs-function">(<span class="hljs-params">&#123; tabList &#125;, payload</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">let</span> flag = <span class="hljs-literal">false</span><br>      tabList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span> (item.<span class="hljs-property">title</span> == payload.<span class="hljs-property">title</span>)&#123;<br>          flag = <span class="hljs-literal">true</span><br>        &#125;<br>      &#125;)<br>      <span class="hljs-keyword">if</span> (!flag)&#123;<br>        <span class="hljs-comment">//没找到</span><br>        tabList.<span class="hljs-title function_">push</span>(payload)<br>      &#125;<br>    &#125;,<br>    <span class="hljs-comment">// 删除tab项</span><br>    <span class="hljs-attr">delTabItem</span>: <span class="hljs-function">(<span class="hljs-params">&#123;tabList&#125;,index</span>) =&gt;</span> &#123;<br>        tabList.<span class="hljs-title function_">splice</span>(index,<span class="hljs-number">1</span>)<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>



<h1 id="10-Echarts的使用"><a href="#10-Echarts的使用" class="headerlink" title="10.  Echarts的使用"></a>10.  Echarts的使用</h1><p>Echarts : <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/index.html">https://echarts.apache.org/zh/index.html</a></p>
<p>一个基于 JavaScript 的开源可视化图表库</p>
<blockquote>
<p>首页 &#x2F; 快速入门 &#x2F; 在项目中引入echarts</p>
</blockquote>
<h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> i echarts -S<br></code></pre></td></tr></table></figure>

<h2 id="2-创建一个显示图表的盒子"><a href="#2-创建一个显示图表的盒子" class="headerlink" title="2. 创建一个显示图表的盒子"></a>2. 创建一个显示图表的盒子</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;box&quot;</span> <span class="hljs-keyword">ref</span>=<span class="hljs-string">&quot;box&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></td></tr></table></figure>

<h2 id="3-引入Echarts"><a href="#3-引入Echarts" class="headerlink" title="3. 引入Echarts"></a>3. 引入Echarts</h2><figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs capnproto"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> echarts <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;echarts&quot;</span>;<br></code></pre></td></tr></table></figure>

<h2 id="4-定义响应式数据"><a href="#4-定义响应式数据" class="headerlink" title="4.  定义响应式数据"></a>4.  定义响应式数据</h2><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs haskell"><span class="hljs-class"><span class="hljs-keyword">data</span>() &#123;</span><br><span class="hljs-class">    <span class="hljs-title">return</span> &#123;</span><br><span class="hljs-class">        <span class="hljs-title">categories</span>: [],</span><br><span class="hljs-class">        <span class="hljs-title">dataList</span>: [],</span><br><span class="hljs-class">    &#125;;</span><br>&#125;,<br></code></pre></td></tr></table></figure>

<h2 id="5-通过计算属性获取options"><a href="#5-通过计算属性获取options" class="headerlink" title="5. 通过计算属性获取options"></a>5. 通过计算属性获取options</h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">computed:</span> <span class="hljs-punctuation">&#123;</span><br>    options() <span class="hljs-punctuation">&#123;</span><br>        <span class="hljs-title class_">return</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">            title:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">                text:</span> <span class="hljs-string">&quot;异步数据加载示例&quot;</span>,<br>            <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">            tooltip:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">            legend:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">                data:</span> [<span class="hljs-string">&quot;销量&quot;</span>],<br>            <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">            xAxis:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">                data:</span> this.categories,<br>            <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">            yAxis:</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">            series:</span> [<br>                <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">                    name:</span> <span class="hljs-string">&quot;销量&quot;</span>,<br><span class="hljs-symbol">                    type:</span> <span class="hljs-string">&quot;bar&quot;</span>,<br><span class="hljs-symbol">                    data:</span> this.dataList,<br>                <span class="hljs-punctuation">&#125;</span>,<br>            ],<br>        <span class="hljs-punctuation">&#125;;</span><br>    <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-punctuation">&#125;</span>,<br></code></pre></td></tr></table></figure>

<h2 id="6-请求数据-loading"><a href="#6-请求数据-loading" class="headerlink" title="6. 请求数据+loading"></a>6. 请求数据+loading</h2><p>在created中请求数据，获取数据后隐藏loading,并按新选项重新渲染图表</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">created() &#123;<br>    setTimeout(() =&gt; &#123;<br>        let <span class="hljs-keyword">data</span> = &#123;<br>            categories: [<span class="hljs-string">&quot;衬衫&quot;</span>,<span class="hljs-string">&quot;羊毛衫&quot;</span>,<span class="hljs-string">&quot;雪纺衫&quot;</span>,<span class="hljs-string">&quot;裤子&quot;</span>,<span class="hljs-string">&quot;高跟鞋&quot;</span>,<span class="hljs-string">&quot;袜子&quot;</span>, <span class="hljs-string">&quot;coat&quot;</span>],<br>            dataList: [<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">36</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>],<br>        &#125;;<br>        <span class="hljs-keyword">this</span>.categories = <span class="hljs-keyword">data</span>.categories;<br>        <span class="hljs-keyword">this</span>.dataList = <span class="hljs-keyword">data</span>.dataList;<br>        <span class="hljs-keyword">this</span>.myChart.hideLoading();<br>        <span class="hljs-keyword">this</span>.myChart.setOption(<span class="hljs-keyword">this</span>.options);<br>    &#125;, <span class="hljs-number">3000</span>);<br>&#125;,<br></code></pre></td></tr></table></figure>

<h2 id="7-在mounted中实现初始化时显示图表"><a href="#7-在mounted中实现初始化时显示图表" class="headerlink" title="7. 在mounted中实现初始化时显示图表"></a>7. 在mounted中实现初始化时显示图表</h2><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs kotlin">mounted() &#123;<br>    <span class="hljs-keyword">this</span>.myChart = echarts.<span class="hljs-keyword">init</span>(<span class="hljs-keyword">this</span>.$refs.box);<br>    <span class="hljs-keyword">this</span>.myChart.setOption(<span class="hljs-keyword">this</span>.options);<br>    <span class="hljs-keyword">this</span>.myChart.showLoading();<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="8-Echarts案例和配置项手册"><a href="#8-Echarts案例和配置项手册" class="headerlink" title="8. Echarts案例和配置项手册"></a>8. Echarts案例和配置项手册</h2><p>首页 &#x2F; 示例 &#x2F; 饼图 &#x2F; </p>
<p>首页 &#x2F; 文档 &#x2F; 配置项手册</p>
<h1 id="11-vue中递归组件的使用"><a href="#11-vue中递归组件的使用" class="headerlink" title="11. vue中递归组件的使用"></a>11. vue中递归组件的使用</h1><h2 id="1-多级菜单数据"><a href="#1-多级菜单数据" class="headerlink" title="1. 多级菜单数据"></a>1. 多级菜单数据</h2><p>data.js</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">const</span> data = [<br>    &#123;<br>        <span class="hljs-attribute">id:</span><span class="hljs-string"> 1,</span><br><span class="hljs-string">        title</span>: <span class="hljs-string">&#x27;汉堡店&#x27;</span>,<br>        <span class="hljs-attribute">cont</span>: [<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 2,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;小吃系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 3, title</span>: <span class="hljs-string">&#x27;轰炸大鱿鱼&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 4, title</span>: <span class="hljs-string">&#x27;香酥鸡柳&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 5, title</span>: <span class="hljs-string">&#x27;脆皮土豆&#x27;</span>&#125;<br>                ]<br>            &#125;,<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 6,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;汉堡系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 7, title</span>: <span class="hljs-string">&#x27;深海鳕鱼堡&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 8, title</span>: <span class="hljs-string">&#x27;香辣鸡腿堡&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 9, title</span>: <span class="hljs-string">&#x27;劲脆鸡腿堡&#x27;</span>&#125;<br>                ]<br>            &#125;,<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 10,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;饮品系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 11, title</span>: <span class="hljs-string">&#x27;可口可乐&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 12, title</span>: <span class="hljs-string">&#x27;雪碧&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 13, title</span>: <span class="hljs-string">&#x27;冰淇淋&#x27;</span>&#125;<br>                ]<br>            &#125;<br>        ]<br><br>    &#125;,<br>    &#123;<br>        <span class="hljs-attribute">id:</span><span class="hljs-string"> 11,</span><br><span class="hljs-string">        title</span>: <span class="hljs-string">&#x27;牛排店&#x27;</span>,<br>        <span class="hljs-attribute">cont</span>: [<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 12,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;牛排系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 13, title</span>: <span class="hljs-string">&#x27;黑椒牛排&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 14, title</span>: <span class="hljs-string">&#x27;西冷牛排&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 15, title</span>: <span class="hljs-string">&#x27;菲力牛排&#x27;</span>&#125;<br>                ]<br>            &#125;,<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 16,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;咖啡系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 17, title</span>: <span class="hljs-string">&#x27;卡布奇诺&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 18, title</span>: <span class="hljs-string">&#x27;摩卡&#x27;</span>&#125;<br>                ]<br>            &#125;,<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 20,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;沙拉系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 21, title</span>: <span class="hljs-string">&#x27;水果沙拉&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 22, title</span>: <span class="hljs-string">&#x27;鸡胸肉沙拉&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 23, title</span>: <span class="hljs-string">&#x27;牛排沙拉&#x27;</span>&#125;<br>                ]<br>            &#125;<br>        ]<br><br>    &#125;,<br>    &#123;<br>        <span class="hljs-attribute">id:</span><span class="hljs-string"> 31,</span><br><span class="hljs-string">        title</span>: <span class="hljs-string">&#x27;红酒店&#x27;</span>,<br>        <span class="hljs-attribute">cont</span>: [<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 32,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;国产葡萄酒系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 33, title</span>: <span class="hljs-string">&#x27;长城红标&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 34, title</span>: <span class="hljs-string">&#x27;张裕二星&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 35, title</span>: <span class="hljs-string">&#x27;王朝干红&#x27;</span>&#125;<br>                ]<br>            &#125;,<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 36,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;进口葡萄酒系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 37, title</span>: <span class="hljs-string">&#x27;法国都夏&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 38, title</span>: <span class="hljs-string">&#x27;拉菲庄园&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 39, title</span>: <span class="hljs-string">&#x27;卡斯特.巴蒂&#x27;</span>&#125;<br>                ]<br>            &#125;,<br>            &#123;   <br>                <span class="hljs-attribute">id:</span><span class="hljs-string"> 40,</span><br><span class="hljs-string">                title</span>: <span class="hljs-string">&#x27;洋酒系列&#x27;</span>,<br>                <span class="hljs-attribute">cont</span>: [<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 41, title</span>: <span class="hljs-string">&#x27;杰克丹尼&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 42, title</span>: <span class="hljs-string">&#x27;人头马部落&#x27;</span>&#125;,<br>                    &#123; <span class="hljs-attribute">id:</span><span class="hljs-string"> 43, title</span>: <span class="hljs-string">&#x27;轩尼诗VSOP&#x27;</span>&#125;<br>                ]<br>            &#125;<br>        ]<br><br>    &#125;<br>]<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> data<br></code></pre></td></tr></table></figure>

<h2 id="2-递归组件定义"><a href="#2-递归组件定义" class="headerlink" title="2. 递归组件定义"></a>2. 递归组件定义</h2><p>foodMenu.vue</p>
<blockquote>
<p>递归组件的技术要点：  一定要设置name属性，递归使用时，用得就是name属性的值</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wrapper&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;menu in menuData&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;menu.id&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123; &#123; menu.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">food-menu</span> <span class="hljs-attr">:menu-data</span>=<span class="hljs-string">&quot;menu.cont&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">food-menu</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;foodMenu&#x27;</span>,</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: [<span class="hljs-string">&#x27;menuData&#x27;</span>],</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="3-在父组件中使用"><a href="#3-在父组件中使用" class="headerlink" title="3. 在父组件中使用"></a>3. 在父组件中使用</h2><p>parent.vue</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">food-menu</span> <span class="hljs-attr">:menu-data</span>=<span class="hljs-string">&quot;menuData&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">food-menu</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> menuData <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./data&quot;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">import</span> foodMenu <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./menu.vue&#x27;</span></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">menuData</span>: menuData</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">    foodMenu</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<h1 id="12-路由重复点击时报错的解决"><a href="#12-路由重复点击时报错的解决" class="headerlink" title="12. 路由重复点击时报错的解决"></a>12. 路由重复点击时报错的解决</h1><ul>
<li><p>报错信息</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">Uncaught (<span class="hljs-keyword">in</span> promise) Error: NavigationDuplicated: Avoided redundant navigation <span class="hljs-keyword">to</span> <span class="hljs-keyword">current</span> <span class="hljs-keyword">location</span>: <span class="hljs-string">&#x27;/&#x27;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>报错原因</p>
<p>使用push()、replace()进行导航时，不能重复导航到当前路由。</p>
</li>
<li><p>解决方案</p>
<p>在router&#x2F;index.js中添加以下代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> originalPush = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">location</span>) &#123;<br>  <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err)<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h1 id="13-vue-elementUI项目中遇到的问题"><a href="#13-vue-elementUI项目中遇到的问题" class="headerlink" title="13. vue+elementUI项目中遇到的问题"></a>13. vue+elementUI项目中遇到的问题</h1><h2 id="13-1-Element-ui使用el-menu垂直布局递归生成菜单及菜单折叠后hover报错Maximum-call-stack-size-exceeded的解决方案"><a href="#13-1-Element-ui使用el-menu垂直布局递归生成菜单及菜单折叠后hover报错Maximum-call-stack-size-exceeded的解决方案" class="headerlink" title="13.1 Element-ui使用el-menu垂直布局递归生成菜单及菜单折叠后hover报错Maximum call stack size exceeded的解决方案"></a>13.1 Element-ui使用el-menu垂直布局递归生成菜单及菜单折叠后hover报错Maximum call stack size exceeded的解决方案</h2><p>解决方案：</p>
<p>在递归的最外层加上一层div</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;menuTreeItem.children&quot;</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;menuTreeItem.id&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; menuTreeItem.name &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item-group</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">menuTree</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in menuTreeItem.children&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.id&quot;</span> <span class="hljs-attr">:menuTreeItem</span>=<span class="hljs-string">&quot;item&quot;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item-group</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;menuTreeItem.id&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; menuTreeItem.name &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>但是菜单栏的title文字和右边的折叠箭头会出现，加入以下样式把它们隐藏即可：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-class">.el-menu--collapse</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-class">.el-submenu</span> &gt; <span class="hljs-selector-class">.el-submenu__title</span> <span class="hljs-selector-tag">span</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">overflow</span>: hidden;<br>  <span class="hljs-attribute">visibility</span>: hidden;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>&#125;<br><span class="hljs-selector-class">.el-menu--collapse</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-class">.el-submenu</span> &gt; <span class="hljs-selector-class">.el-submenu__title</span> <span class="hljs-selector-class">.el-submenu__icon-arrow</span> &#123;<br>  <span class="hljs-attribute">display</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="13-2-菜单折叠后卡顿"><a href="#13-2-菜单折叠后卡顿" class="headerlink" title="13.2 菜单折叠后卡顿"></a>13.2 菜单折叠后卡顿</h2><p>解决方案： 参考上题，添加样式隐藏箭头和文字即可</p>
<h1 id="14-项目中日期格式的处理"><a href="#14-项目中日期格式的处理" class="headerlink" title="14. 项目中日期格式的处理"></a>14. 项目中日期格式的处理</h1><p>安装moment</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> i moment -S<br></code></pre></td></tr></table></figure>

<p>处理日期格式</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">moment</span><span class="hljs-params">(this.ruleForm.startDate)</span></span><span class="hljs-selector-class">.format</span>(<span class="hljs-string">&quot;YYYY-MM-DD&quot;</span>)<br></code></pre></td></tr></table></figure>

<h1 id="15-请求后端接口出错的排错步骤"><a href="#15-请求后端接口出错的排错步骤" class="headerlink" title="15. 请求后端接口出错的排错步骤"></a>15. 请求后端接口出错的排错步骤</h1><ol>
<li><p>先查看network中是否发起请求</p>
</li>
<li><p>查看接口地址是否正确</p>
<p>（1）先检查域名，通常接口地址是跨域的，如果域名没有正常跨域，依然是当前域名，则是axios.baseURL没有正确配置</p>
<p>（2）检查域名后的url地址是否正确</p>
</li>
<li><p>查看请求方式(get,post,put,delete)</p>
</li>
<li><p>查看参数是否正确 </p>
<p>（1）参数字段名是否正确</p>
<p>  (2)   参数携带的数据是否符合要求   </p>
<p>​		举例 ：pw&#x3D;”123”     错误 的传递   pw&#x3D;” 123”</p>
</li>
</ol>
<h1 id="16-参考产品大牛案例"><a href="#16-参考产品大牛案例" class="headerlink" title="16. 参考产品大牛案例"></a>16. 参考产品大牛案例</h1><ul>
<li>知识付费运营管理后台高保真原型  <a target="_blank" rel="noopener" href="https://www.pmdaniu.com/rp/detail/127806">https://www.pmdaniu.com/rp/detail/127806</a></li>
<li>家医后台管理系统   <a target="_blank" rel="noopener" href="https://www.pmdaniu.com/storages/127496/5e1a546311e3b27aa7a6b6b7fb02a8bc-57026/%E6%BC%94%E7%A4%BA%E6%A1%86%E6%9E%B6.html">https://www.pmdaniu.com/storages/127496/5e1a546311e3b27aa7a6b6b7fb02a8bc-57026/%E6%BC%94%E7%A4%BA%E6%A1%86%E6%9E%B6.html</a></li>
</ul>
<h1 id="17-动态添加路由信息的实现"><a href="#17-动态添加路由信息的实现" class="headerlink" title="17. 动态添加路由信息的实现"></a>17. 动态添加路由信息的实现</h1><h2 id="1-后台项目中路由实现的两种方式"><a href="#1-后台项目中路由实现的两种方式" class="headerlink" title="1. 后台项目中路由实现的两种方式"></a>1. 后台项目中路由实现的两种方式</h2><ul>
<li>在 路由文件中直接配置 (静态的)</li>
<li>动态请求路由数据后，动态添加路由，动态生成导航菜单</li>
</ul>
<h2 id="2-在-路由文件中直接配置"><a href="#2-在-路由文件中直接配置" class="headerlink" title="2. 在 路由文件中直接配置"></a>2. 在 路由文件中直接配置</h2><h3 id="2-1-路由文件-：router-x2F-index-js"><a href="#2-1-路由文件-：router-x2F-index-js" class="headerlink" title="2.1 路由文件 ：router&#x2F;index.js"></a>2.1 路由文件 ：router&#x2F;index.js</h3><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> VueRouter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br><br>Vue.use(VueRouter)<br><br>const routes = [<br>  &#123;<br>    path: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    redirect: <span class="hljs-string">&#x27;/home&#x27;</span><br>  &#125;,<br>  &#123;<br>        <span class="hljs-regexp">//</span> 管理后台的主页面<br>        path: <span class="hljs-string">&#x27;/home&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;layout&#x27;</span>,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        redirect: <span class="hljs-string">&#x27;/home/dashboard&#x27;</span>,<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;dashboard&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;dashboard&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/dashboard&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;首页&#x27;</span>,<br>                    icon: <span class="hljs-string">&quot;el-icon-eleme&quot;</span><br>                &#125;<br>            &#125;<br>        ]<br>    &#125;,<br>    <span class="hljs-regexp">//</span>   图表展示 <br>      &#123;<br>        path: <span class="hljs-string">&#x27;/charts&#x27;</span>,<br>        name: <span class="hljs-string">&#x27;charts&#x27;</span>,<br>        meta: &#123;<br>            title: <span class="hljs-string">&#x27;图表展示&#x27;</span>,<br>            icon: <span class="hljs-string">&#x27;el-icon-location&#x27;</span><br>        &#125;,<br>        component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/layout&#x27;</span>),<br>        children: [<br>            &#123;<br>                path: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;bar&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/charts/bar.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;柱状图&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;pie&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;pie&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/charts/pie.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;饼图&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;,<br>            &#123;<br>                path: <span class="hljs-string">&#x27;map&#x27;</span>,<br>                name: <span class="hljs-string">&#x27;map&#x27;</span>,<br>                component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/charts/map.vue&#x27;</span>),<br>                meta: &#123;<br>                    title: <span class="hljs-string">&#x27;地图&#x27;</span>,<br>                    icon: <span class="hljs-string">&#x27;el-icon-star-off&#x27;</span><br>                &#125;<br>            &#125;,<br>        ]<br><br>    &#125;,<br>  &#123;<br>    path: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>    name: <span class="hljs-string">&#x27;login&#x27;</span>,<br>    meta: &#123;<br>      title: <span class="hljs-string">&#x27;登录&#x27;</span><br>    &#125;,<br>    component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/login&#x27;</span>)<br>  &#125;,<br>  &#123;<br>      path: <span class="hljs-string">&#x27;*&#x27;</span>,<br>      name: <span class="hljs-string">&#x27;404&#x27;</span>,<br>      meta: &#123;<br>        title: <span class="hljs-string">&#x27;404页面&#x27;</span><br>      &#125;,<br>      component: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/404&#x27;</span>)<br>    &#125;<br><br>]<br>const router = <span class="hljs-keyword">new</span> VueRouter(&#123;<br>  base: process.env.BASE_URL,<br>  routes<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br><br></code></pre></td></tr></table></figure>

<h3 id="2-2-配置导航菜单"><a href="#2-2-配置导航菜单" class="headerlink" title="2.2 配置导航菜单"></a>2.2 配置导航菜单</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">el-menu</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:default-active</span>=<span class="hljs-string">&quot;$route.fullPath&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-menu-vertical-demo&quot;</span></span><br><span class="hljs-tag">      @<span class="hljs-attr">open</span>=<span class="hljs-string">&quot;handleOpen&quot;</span></span><br><span class="hljs-tag">      @<span class="hljs-attr">close</span>=<span class="hljs-string">&quot;handleClose&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">background-color</span>=<span class="hljs-string">&quot;#545c64&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">text-color</span>=<span class="hljs-string">&quot;#fff&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">active-text-color</span>=<span class="hljs-string">&quot;#ffd04b&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:collapse</span>=<span class="hljs-string">&quot;collapse&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:router</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:collapse-transition</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>      <span class="hljs-comment">&lt;!-- 首页 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/home/dashboard&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;home&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- 学生管理 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/stuAdmin&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-location&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>学生管理<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/stuAdmin/addNewStu&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>新生报名<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/stuAdmin/adminClass&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>班级管理<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/stuAdmin/stuInfo&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>学生信息<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- 教师管理 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/teacher&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-location&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>教师管理<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/teacherAdmin/teacherInfo&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>教师信息<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/teacherAdmin/teacherHours&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>课时统计<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/teacherAdmin/teacherScore&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>教评分数<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- 公告信息 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/notice/notice&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;home&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>公告信息<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>      <span class="hljs-comment">&lt;!-- 就业管理 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/job&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-location&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>就业管理<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/job/jobList&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>职位信息<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;/job/jobAddress&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-eleme&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>就业地信息<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="3-动态请求路由数据"><a href="#3-动态请求路由数据" class="headerlink" title="3. 动态请求路由数据"></a>3. 动态请求路由数据</h2><h3 id="3-1-完整路由json文件-后端请求数据"><a href="#3-1-完整路由json文件-后端请求数据" class="headerlink" title="3.1 完整路由json文件 (后端请求数据)"></a>3.1 完整路由json文件 (后端请求数据)</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><code class="hljs prolog">[<br>    &#123;<br>        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/charts&quot;</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;charts&quot;</span>,<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;图表展示&quot;</span>,<br>        <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span>,<br>        <span class="hljs-string">&quot;children&quot;</span>: [<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;bar&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;bar&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/charts/bar&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;柱状图&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-star-off&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;pie&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;pie&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/charts/pie&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;饼图&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-star-off&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;map&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;map&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/charts/map&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;地图&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-star-off&quot;</span><br>            &#125;<br>        ]<br>    &#125;,<br>    &#123;<br>        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/stuAdmin&quot;</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;stuAdmin&quot;</span>,<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;学生管理&quot;</span>,<br>        <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span>,<br>        <span class="hljs-string">&quot;children&quot;</span>: [<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;addNewStu&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;addNewStu&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/stuAdmin/addNewStu&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;新生报名&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-star-off&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;adminClass&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;adminClass&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/stuAdmin/adminClass&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;班级管理&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-star-off&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;stuInfo&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;stuInfo&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/stuAdmin/stuInfo.vue&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;学生信息&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-star-off&quot;</span><br>            &#125;<br>        ]<br>    &#125;,<br>    &#123;<br>        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/teacherAdmin&quot;</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;teacherAdmin&quot;</span>,<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;教师管理1&quot;</span>,<br>        <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span>,<br>        <span class="hljs-string">&quot;children&quot;</span>: [<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;teacherInfo&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;teacherInfo&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/teacherAdmin/teacherInfo&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;教师信息&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;teacherHours&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;teacherHours&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/teacherAdmin/teacherHours&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;课时统计&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;teacherScore&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;teacherScore&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/teacherAdmin/teacherScore&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;教评分数&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span><br>            &#125;<br>        ]<br>    &#125;,<br>    &#123;<br>        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/notice&quot;</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;notice&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/notice&quot;</span>,<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;公告信息&quot;</span>,<br>        <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span><br>    &#125;,<br>    &#123;<br>        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/upload&quot;</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;upload&quot;</span>,<br>        <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/upload&quot;</span>,<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;上传图片&quot;</span>,<br>        <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span><br>    &#125;,<br>    &#123;<br>        <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;/job&quot;</span>,<br>        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;job&quot;</span>,<br>        <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;就业管理&quot;</span>,<br>        <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span>,<br>        <span class="hljs-string">&quot;children&quot;</span>: [<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;jobList&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;jobList&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/job/jobList&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;职位信息&quot;</span>,<br>                <span class="hljs-string">&quot;icon&quot;</span>: <span class="hljs-string">&quot;el-icon-location&quot;</span><br>            &#125;,<br>            &#123;<br>                <span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;jobAddress&quot;</span>,<br>                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;jobAddress&quot;</span>,<br>                <span class="hljs-string">&quot;url&quot;</span>: <span class="hljs-string">&quot;/job/jobAddress&quot;</span>,<br>                <span class="hljs-string">&quot;title&quot;</span>: <span class="hljs-string">&quot;就业地信息&quot;</span><br>            &#125;<br>        ]<br>    &#125;<br>]<br></code></pre></td></tr></table></figure>

<h3 id="3-2-路由文件配置"><a href="#3-2-路由文件配置" class="headerlink" title="3.2 路由文件配置"></a>3.2 路由文件配置</h3><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xl">const routes = [<br>  &#123;<br>    <span class="hljs-built_in">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    redirect: <span class="hljs-string">&#x27;/home&#x27;</span><br>  &#125;,<br>  ...constRoutes, <span class="hljs-comment">//没有权限控制的路由数据</span><br>  &#123;<br>    <span class="hljs-built_in">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-keyword">name</span>: <span class="hljs-string">&#x27;login&#x27;</span>,<br>    meta: &#123;<br>      <span class="hljs-built_in">title</span>: <span class="hljs-string">&#x27;登录&#x27;</span><br>    &#125;,<br>    component: () =&gt; <span class="hljs-keyword">import</span>(&#x27;../views/login&#x27;)<br>  &#125;,<br><br>]<br></code></pre></td></tr></table></figure>

<h3 id="3-3-成功登录后的处理过程"><a href="#3-3-成功登录后的处理过程" class="headerlink" title="3.3  成功登录后的处理过程"></a>3.3  成功登录后的处理过程</h3><p>三个文件要相互配合：  store&#x2F;index.js、router&#x2F;index.js 、 login.vue </p>
<h4 id="3-3-1-store-x2F-index-js"><a href="#3-3-1-store-x2F-index-js" class="headerlink" title="3.3.1 store&#x2F;index.js"></a>3.3.1 store&#x2F;index.js</h4><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs pf">import Vue <span class="hljs-keyword">from</span> &#x27;vue&#x27;<br>import Vuex <span class="hljs-keyword">from</span> &#x27;vuex&#x27;<br><br>Vue.use(Vuex)<br><br>export <span class="hljs-keyword">default</span> new Vuex.Store(&#123;<br>    <span class="hljs-keyword">state</span>: &#123;<br>        navData: [] //动态获取的导航<br>    &#125;,<br>    mutations: &#123;<br>    	//在登录成功，异步获取了菜单数据后，把数据存储到vuex中<br>        getNavData: (<span class="hljs-keyword">state</span>,data) =&gt; &#123;<br>            <span class="hljs-keyword">state</span>.navData = data<br>        &#125;<br>    &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>

<h4 id="3-3-2-router-x2F-index-js"><a href="#3-3-2-router-x2F-index-js" class="headerlink" title="3.3.2 router&#x2F;index.js"></a>3.3.2 router&#x2F;index.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br><span class="hljs-comment">//引入store</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/store/index.js&quot;</span><br><span class="hljs-keyword">import</span> constRoutes <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./constRoutes&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>)<br><br><span class="hljs-keyword">const</span> routes = [<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/&#x27;</span>,<br>    <span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/home&#x27;</span><br>  &#125;,<br>  ...constRoutes,<br>  &#123;<br>    <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/login&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;login&#x27;</span>,<br>    <span class="hljs-attr">meta</span>: &#123;<br>      <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;登录&#x27;</span><br>    &#125;,<br>    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/login&#x27;</span>)<br>  &#125;,<br><br>]<br><br><span class="hljs-comment">//避免路由重复点击时的报错</span><br><span class="hljs-keyword">const</span> originalPush = <span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span><br><span class="hljs-title class_">VueRouter</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span> = <span class="hljs-keyword">function</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">location</span>) &#123;<br>  <span class="hljs-keyword">return</span> originalPush.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, location).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> err)<br>&#125;<br><br><span class="hljs-comment">//&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;</span><br><span class="hljs-comment">//解决重新登录时，路由重复定义的报错</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">createRouter</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>  routes<br>&#125;)<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>()<br><br><span class="hljs-comment">//在重新登录时，重置路由对象</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">resetRouter</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> newRouter = <span class="hljs-title function_">createRouter</span>()<br>  router.<span class="hljs-property">matcher</span> = newRouter.<span class="hljs-property">matcher</span> <span class="hljs-comment">// the relevant part</span><br>&#125;<br><span class="hljs-comment">//&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;</span><br><br><br><br><span class="hljs-comment">//****************************************************************</span><br><span class="hljs-comment">// 之所以在路由文件中实现该函数，因为可以直接访问到router对象，但调用是在login.vue中登录成功后调用</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">asyncRoutes</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-title function_">resetRouter</span>()  <span class="hljs-comment">//重置路由</span><br>  <span class="hljs-keyword">let</span> navData = store.<span class="hljs-property">state</span>.<span class="hljs-property">navData</span>; <span class="hljs-comment">//store中的动态路由菜单 </span><br>  navData.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> routeItem = &#123;&#125;<br>    <span class="hljs-keyword">if</span> (item.<span class="hljs-property">children</span>) &#123;<br>      routeItem = &#123;<br>        <span class="hljs-attr">path</span>: item.<span class="hljs-property">path</span>,<br>        <span class="hljs-attr">name</span>: item.<span class="hljs-property">name</span>,<br>        <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/layout&#x27;</span>),<br>        <span class="hljs-attr">meta</span>: &#123;<br>          <span class="hljs-attr">title</span>: item.<span class="hljs-property">title</span>,<br>          <span class="hljs-attr">icon</span>: item.<span class="hljs-property">icon</span><br>        &#125;,<br>        <span class="hljs-attr">children</span>: []<br>      &#125;<br>      item.<span class="hljs-property">children</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">route</span> =&gt;</span> &#123;<br>        routeItem.<span class="hljs-property">children</span>.<span class="hljs-title function_">push</span>(&#123;<br>          <span class="hljs-attr">path</span>: route.<span class="hljs-property">path</span>,<br>          <span class="hljs-attr">name</span>: route.<span class="hljs-property">name</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views&#x27;</span> + route.<span class="hljs-property">url</span>),<br>          <span class="hljs-attr">meta</span>: &#123;<br>            <span class="hljs-attr">title</span>: route.<span class="hljs-property">title</span>,<br>            <span class="hljs-attr">icon</span>: route.<span class="hljs-property">icon</span><br>          &#125;<br>        &#125;)<br>      &#125;)<br><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      routeItem = &#123;<br>        <span class="hljs-attr">path</span>: item.<span class="hljs-property">path</span>,<br>        <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/layout&#x27;</span>),<br>        <span class="hljs-attr">children</span>: [<br>          &#123;<br>            <span class="hljs-attr">path</span>: item.<span class="hljs-property">name</span>,<br>            <span class="hljs-attr">name</span>: item.<span class="hljs-property">name</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views&#x27;</span> + item.<span class="hljs-property">url</span>),<br>            <span class="hljs-attr">meta</span>: &#123;<br>              <span class="hljs-attr">title</span>: item.<span class="hljs-property">title</span>,<br>              <span class="hljs-attr">icon</span>: item.<span class="hljs-property">icon</span><br>            &#125;<br>          &#125;<br>        ]<br>      &#125;<br>    &#125;<br>    router.<span class="hljs-title function_">addRoute</span>(routeItem)<br>  &#125;)<br>      router.<span class="hljs-title function_">addRoute</span>(&#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;*&#x27;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;404&#x27;</span>,<br>      <span class="hljs-attr">meta</span>: &#123;<br>        <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;404页面&#x27;</span><br>      &#125;,<br>      <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/404&#x27;</span>)<br>    &#125;)<br>&#125;<br><span class="hljs-comment">// **************************************************************</span><br><br>router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span><br>  <span class="hljs-comment">// url:&quot;/&quot;</span><br>  <span class="hljs-keyword">let</span> token = sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;token&quot;</span>)<br>  <span class="hljs-keyword">if</span> (to.<span class="hljs-property">fullPath</span> === <span class="hljs-string">&quot;/login&quot;</span>) &#123;<br>    <span class="hljs-title function_">next</span>()<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">if</span> (token) &#123;<br>    <br>      <span class="hljs-comment">// 解决刷新页面时重新获取路由数据</span><br>      <span class="hljs-keyword">let</span> navData = store.<span class="hljs-property">state</span>.<span class="hljs-property">navData</span>;<br>      <span class="hljs-keyword">if</span> (navData.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) &#123;  <span class="hljs-comment">//如果长度为0,则是刷新</span><br>        <span class="hljs-comment">// 从sessionStorage中拿navData数据</span><br>        navData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(sessionStorage.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;navData&quot;</span>))<br>        store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;getNavData&quot;</span>, navData);<br>        <span class="hljs-title function_">asyncRoutes</span>(navData);<br>        <span class="hljs-comment">// 参考4.3.4解释</span><br>        <span class="hljs-title function_">next</span>(&#123; ...to, <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> &#125;);<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-title function_">next</span>()<br>      &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-title function_">next</span>(<span class="hljs-string">&quot;/login&quot;</span>)<br>    &#125;<br>  &#125;<br><br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br><br></code></pre></td></tr></table></figure>

<h4 id="3-3-3-login-js"><a href="#3-3-3-login-js" class="headerlink" title="3.3.3 login.js"></a>3.3.3 login.js</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">//引入路由中定义的动态添加路由的函数</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123;asyncRoutes&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/router/index.js&#x27;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// 处理登录后的数据</span></span><br><span class="language-javascript">    <span class="hljs-title function_">handleLogin</span>(<span class="hljs-params">res</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> &#123; code, token, navData &#125; = res.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">//登录成功后，把navData存入store</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;getNavData&quot;</span>, navData);</span><br><span class="language-javascript">        <span class="hljs-comment">//成功登录</span></span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;token&quot;</span>, token);</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;navData&quot;</span>,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(navData))</span><br><span class="language-javascript">        <span class="hljs-comment">// 动态添加路由</span></span><br><span class="language-javascript">        <span class="hljs-title function_">asyncRoutes</span>();</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;/home&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;登录成功&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">&quot;ruleForm&quot;</span>].<span class="hljs-title function_">resetFields</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//登录失败</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;登录失败&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="3-3-4-导航栏一级"><a href="#3-3-4-导航栏一级" class="headerlink" title="3.3.4 导航栏一级"></a>3.3.4 导航栏一级</h4><p>NavMeaue.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;el-menu :default-active=&quot;$route.fullPath&quot; class=&quot;el-menu-vertical-demo meue-head&quot; @open=&quot;handleOpen&quot;<br>    @close=&quot;handleClose&quot; background-color=&quot;#545c64&quot; text-color=&quot;#fff&quot; active-text-color=&quot;#ffd04b&quot; :router=&quot;true&quot;<br>    :collapse=&quot;isCollapse&quot; :collapse-transition=&quot;false&quot;&gt;<br>      /*默认首页 /*<br>    &lt;el-menu-item index=&quot;/home&quot;&gt;<br>      &lt;span slot=&quot;title&quot;&gt;首页&lt;/span&gt;<br>    &lt;/el-menu-item&gt;<br>     /*动态渲染一级路由*/<br>    &lt;nav-item v-for=&quot;item in asyncRoutes&quot; :key=&quot;item.path&quot; :item=&quot;item&quot; /&gt;<br>  &lt;/el-menu&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import NavItem from &quot;./NavItem.vue&quot;;<br>export default &#123;<br>  components: &#123; NavItem &#125;,<br>  props: &#123;<br>    isCollapse: Boolean,<br>  &#125;,<br>  //获取store中的动态路由navData<br>  computed: &#123;<br>    asyncRoutes() &#123;<br>      return this.$store.state.navData<br>    &#125;<br><br>  &#125;,<br>...<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="3-3-5-导航栏渲染"><a href="#3-3-5-导航栏渲染" class="headerlink" title="3.3.5 导航栏渲染"></a>3.3.5 导航栏渲染</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;el-submenu v-if=&quot;item.children&quot; :index=&quot;item.path&quot;&gt;<br>      &lt;template slot=&quot;title&quot;&gt;<br>        &lt;i :class=&quot;item.icon&quot;&gt;&lt;/i&gt;<br>        &lt;span&gt;&#123; &#123; item.title &#125;&#125;&lt;/span&gt;<br>      &lt;/template&gt;<br>      &lt;el-menu-item v-for=&quot;(route, index) in item.children&quot; :key=&quot;route.path&quot;<br>        :index=&quot;item.path + &#x27;/&#x27; + item.children[index].path&quot;&gt;<br>        &lt;i :class=&quot;route.icon&quot;&gt;&lt;/i&gt;<br>        &lt;span slot=&quot;title&quot;&gt;&#123; &#123; route.title &#125;&#125;&lt;/span&gt;<br>      &lt;/el-menu-item&gt;<br>    &lt;/el-submenu&gt;<br>    &lt;el-menu-item v-else :index=&quot;item.path + item.path&quot;&gt;<br>      &lt;i :class=&quot;item.icon&quot;&gt;&lt;/i&gt;<br>      &lt;span slot=&quot;title&quot;&gt;&#123; &#123; item.title &#125;&#125;&lt;/span&gt;<br>    &lt;/el-menu-item&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  props: &#123;<br>    item: Object,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>



<h4 id="3-4-退出登录"><a href="#3-4-退出登录" class="headerlink" title="3.4 退出登录"></a>3.4 退出登录</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">quit</span>(<span class="hljs-params"></span>)&#123;<br>      sessionStorage.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">&quot;token&quot;</span>);<br>      <span class="hljs-comment">// 重载即刷新，此时从路由守卫走，因为没有token,进入login</span><br>      <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="4-刷新后bug"><a href="#4-刷新后bug" class="headerlink" title="4. 刷新后bug"></a>4. 刷新后bug</h2><h3 id="4-1-bug描述"><a href="#4-1-bug描述" class="headerlink" title="4.1 bug描述"></a>4.1 bug描述</h3><p> 例如： 当前在&#x2F;admin&#x2F;salary,但刷新后进入404页面</p>
<h3 id="4-2-分析bug出现的原因"><a href="#4-2-分析bug出现的原因" class="headerlink" title="4.2 分析bug出现的原因"></a>4.2 分析bug出现的原因</h3><ol>
<li>刷新后，会先走路由文件中的路由配置，此时路由配置中还没有添加后台接口请求的路由</li>
<li>再走路由守卫，因为此时sesstionStorage中是可以读取到token的，所以直接next,进入当前页&#x2F;admin&#x2F;salary</li>
<li>而异步路由添加是在login中添加的，所以整个流程并没有加入相应路由，就进行404页面</li>
</ol>
<h3 id="4-3-解决方案"><a href="#4-3-解决方案" class="headerlink" title="4.3 解决方案"></a>4.3 解决方案</h3><p>把动态路由配置添加到sessionStorage中, 在路由守卫中判断当前为刷新时，则从sessionStorage中读取</p>
<p>需要修改的代码如下：</p>
<h4 id="4-3-1-login-vue"><a href="#4-3-1-login-vue" class="headerlink" title="4.3.1 login.vue"></a>4.3.1 login.vue</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">//引入路由中定义的动态添加路由的函数</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> &#123;asyncRoutes&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/router/index.js&#x27;</span></span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// 处理登录后的数据</span></span><br><span class="language-javascript">    <span class="hljs-title function_">handleLogin</span>(<span class="hljs-params">res</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> &#123; code, token, navData &#125; = res.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (code === <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">//登录成功后，把navData存入store</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;getNavData&quot;</span>, navData);</span><br><span class="language-javascript">        <span class="hljs-comment">//成功登录</span></span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;token&quot;</span>, token);</span><br><span class="language-javascript">        sessionStorage.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;navData&quot;</span>,<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(navData))</span><br><span class="language-javascript">        <span class="hljs-comment">// 动态添加路由</span></span><br><span class="language-javascript">        <span class="hljs-title function_">asyncRoutes</span>();</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$router</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&quot;/home&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;登录成功&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">&quot;ruleForm&quot;</span>].<span class="hljs-title function_">resetFields</span>();</span><br><span class="language-javascript">        <span class="hljs-comment">//登录失败</span></span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">          <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;登录失败&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="4-3-2-router-x2F-index-js"><a href="#4-3-2-router-x2F-index-js" class="headerlink" title="4.3.2 router&#x2F;index.js"></a>4.3.2 router&#x2F;index.js</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs awk">router.beforeEach((to, from, <span class="hljs-keyword">next</span>) =&gt; &#123;<br>  let token = sessionStorage.getItem(<span class="hljs-string">&quot;token&quot;</span>);<br>  <span class="hljs-keyword">if</span> (to.path === <span class="hljs-string">&#x27;/login&#x27;</span>) &#123;<br>    <span class="hljs-keyword">next</span>()<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-keyword">if</span> (token) &#123;<br>    <span class="hljs-regexp">//</span>改动以下代码<br>    <span class="hljs-regexp">//</span>******************************************************<br>      <span class="hljs-regexp">//</span> 有token进入有两种情况：<br>      <span class="hljs-regexp">//</span> <span class="hljs-number">1</span>. 正常跳转，vuex中始终有navData数据<br>      <span class="hljs-regexp">//</span> <span class="hljs-number">2</span>. 刷新进入，vuex中没有navData数据<br>      let navData = store.state.navData;<br>      <span class="hljs-keyword">if</span> (navData.length === <span class="hljs-number">0</span>)&#123;  <span class="hljs-regexp">//</span>如果长度为<span class="hljs-number">0</span>,则是刷新<br>        <span class="hljs-regexp">//</span> 从sessionStorage中拿navData数据<br>        navData = JSON.parse(sessionStorage.getItem(<span class="hljs-string">&quot;navData&quot;</span>))<br>        store.commit(<span class="hljs-string">&quot;getNavData&quot;</span>,navData);<br>        asyncRoutes(navData);<br>        <span class="hljs-regexp">//</span> 参考<span class="hljs-number">4.3</span>.<span class="hljs-number">4</span>解释<br>        <span class="hljs-keyword">next</span>(&#123;...to,replace: true&#125;);<br>      &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-keyword">next</span>()<br>      &#125;<br>    <span class="hljs-regexp">//</span>**********************************************************<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">next</span>(<span class="hljs-string">&#x27;/login&#x27;</span>)<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h4 id="4-3-3-退出逻辑"><a href="#4-3-3-退出逻辑" class="headerlink" title="4.3.3 退出逻辑"></a>4.3.3 退出逻辑</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">quit</span>(<span class="hljs-params"></span>)&#123;<br>      sessionStorage.<span class="hljs-property">clear</span>;<br>      <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="4-3-4-next-…to-replace-true"><a href="#4-3-4-next-…to-replace-true" class="headerlink" title="4.3.4 next({…to,replace: true})"></a>4.3.4 next({…to,replace: true})</h4><ol>
<li><p>很多人在使用动态添加路由<code>addRoute()</code>会遇到下面的情况</p>
<p>在<code>addRoutes()</code>之后第一次访问被添加的路由会白屏，这是因为刚刚<code>addRoute()</code>就立刻访问被添加的路由，然而此时<code>addRoute()</code>没有执行结束，因而找不到刚刚被添加的路由导致白屏。因此需要从新访问一次路由才行。</p>
</li>
<li><p>此时就要使用<code>next(&#123; ...to, replace: true &#125;)</code>来确保<code>addRoutes()</code>时动态添加的路由已经被完全加载上去</p>
</li>
<li><p><code>next(&#123; ...to, replace: true &#125;)</code>中的<code>replace: true</code>只是一个设置信息，告诉VUE本次操作后，不能通过浏览器后退按钮，返回前一个路由。</p>
</li>
<li><p>其实<code>next(&#123; ...to &#125;)</code>的执行很简单，它会判断：</p>
<p>如果参数<code>to</code>不能找到对应的路由的话，就再执行一次<code>beforeEach((to, from, next)</code>直到其中的<code>next(&#123; ...to&#125;)</code>能找到对应的路由为止。</p>
</li>
</ol>
<h2 id="5-导航菜单的处理"><a href="#5-导航菜单的处理" class="headerlink" title="5. 导航菜单的处理"></a>5. 导航菜单的处理</h2><h3 id="5-1-使用登录时存入vuex的数据"><a href="#5-1-使用登录时存入vuex的数据" class="headerlink" title="5.1 使用登录时存入vuex的数据"></a>5.1 使用登录时存入vuex的数据</h3><h3 id="5-2-动态添加路由的处理过程"><a href="#5-2-动态添加路由的处理过程" class="headerlink" title="5.2  动态添加路由的处理过程"></a>5.2  动态添加路由的处理过程</h3><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs xquery">export <span class="hljs-keyword">function</span> asyncRoutes() &#123;<br>  resetRouter()<br>  <span class="hljs-keyword">let</span> navData = store.state.navData; //store中的动态路由菜单 <br>  navData.forEach(<span class="hljs-type">item</span> =&gt; &#123;<br>    <span class="hljs-keyword">let</span> routeItem = &#123;&#125;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-type">item</span>.children) &#123;<br>      routeItem = &#123;<br>       <span class="hljs-built_in"> path</span>: <span class="hljs-type">item</span><span class="hljs-built_in">.path</span>,<br>       <span class="hljs-built_in"> name</span>: <span class="hljs-type">item</span><span class="hljs-built_in">.name</span>,<br>        component: () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/layout&#x27;</span>),<br>        meta: &#123;<br>          title: <span class="hljs-type">item</span>.title,<br>          icon: <span class="hljs-type">item</span>.icon<br>        &#125;,<br>        children: []<br>      &#125;<br>      <span class="hljs-type">item</span>.children.forEach(route =&gt; &#123;<br>        routeItem.children.push(&#123;<br>         <span class="hljs-built_in"> path</span>: route<span class="hljs-built_in">.path</span>,<br>         <span class="hljs-built_in"> name</span>: route<span class="hljs-built_in">.name</span>,<br>          component: () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views&#x27;</span> + route.url),<br>          meta: &#123;<br>            title: route.title,<br>            icon: route.icon<br>          &#125;<br>        &#125;)<br>      &#125;)<br><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      routeItem = &#123;<br>       <span class="hljs-built_in"> path</span>: <span class="hljs-type">item</span><span class="hljs-built_in">.path</span>,<br>        component: () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views/layout&#x27;</span>),<br>        children: [<br>          &#123;<br>           <span class="hljs-built_in"> path</span>: <span class="hljs-type">item</span><span class="hljs-built_in">.name</span>,<br>           <span class="hljs-built_in"> name</span>: <span class="hljs-type">item</span><span class="hljs-built_in">.name</span>,<br>            component: () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;@/views&#x27;</span> + <span class="hljs-type">item</span>.url),<br>            meta: &#123;<br>              title: <span class="hljs-type">item</span>.title,<br>              icon: <span class="hljs-type">item</span>.icon<br>            &#125;<br>          &#125;<br>        ]<br>      &#125;<br>    &#125;<br>    router.addRoute(routeItem)<br>    router.addRoute(&#123;<br>     <span class="hljs-built_in"> path</span>: <span class="hljs-string">&#x27;*&#x27;</span>,<br>     <span class="hljs-built_in"> name</span>: <span class="hljs-string">&#x27;404&#x27;</span>,<br>      meta: &#123;<br>        title: <span class="hljs-string">&#x27;404页面&#x27;</span><br>      &#125;,<br>      component: () =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;../views/404&#x27;</span>)<br>    &#125;)<br><br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="5-3-导航菜单的动态生成"><a href="#5-3-导航菜单的动态生成" class="headerlink" title="5.3 导航菜单的动态生成"></a>5.3 导航菜单的动态生成</h3><p>navMenu.vue</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;nav-menu&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;logo&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;!collapse&quot;</span>&gt;</span>云和教育<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-menu</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:default-active</span>=<span class="hljs-string">&quot;$route.fullPath&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-menu-vertical-demo&quot;</span></span><br><span class="hljs-tag">      @<span class="hljs-attr">open</span>=<span class="hljs-string">&quot;handleOpen&quot;</span></span><br><span class="hljs-tag">      @<span class="hljs-attr">close</span>=<span class="hljs-string">&quot;handleClose&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">background-color</span>=<span class="hljs-string">&quot;#545c64&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">text-color</span>=<span class="hljs-string">&quot;#fff&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">active-text-color</span>=<span class="hljs-string">&quot;#ffd04b&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:collapse</span>=<span class="hljs-string">&quot;collapse&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:router</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:collapse-transition</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>      <span class="hljs-comment">&lt;!-- 遍历routesList --&gt;</span><br>      <span class="hljs-comment">&lt;!-- &lt;div v-for=&quot;item in routesList&quot; :key=&quot;item.path&quot;&gt;</span><br><span class="hljs-comment">        </span><br><span class="hljs-comment">      &lt;/div&gt; --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">menu-item</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in routesList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item.path&quot;</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">&quot;item&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> menuItem <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./menuItem.vue&#x27;</span>;</span><br><span class="language-javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">  <span class="hljs-attr">components</span>: &#123; menuItem &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">props</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">collapse</span>: <span class="hljs-title class_">Boolean</span></span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">activeIndex</span>: <span class="hljs-string">&#x27;/dashboard&#x27;</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// 通过计算属性获得navData</span></span><br><span class="language-javascript">    <span class="hljs-title function_">routesList</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">navData</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">handleOpen</span>(<span class="hljs-params">key, keyPath</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// console.log(key, keyPath);</span></span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">handleClose</span>(<span class="hljs-params">key, keyPath</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// console.log(key, keyPath);</span></span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">$route</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">handler</span>(<span class="hljs-params">to</span>)&#123;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;setTabList&quot;</span>,&#123;</span><br><span class="language-javascript">           <span class="hljs-attr">title</span>: to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>,</span><br><span class="language-javascript">           <span class="hljs-attr">path</span>: to.<span class="hljs-property">fullPath</span></span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;scss&quot;</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.nav-menu</span> &#123;</span><br><span class="language-css">  <span class="hljs-selector-class">.logo</span> &#123;</span><br><span class="language-css">    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;</span><br><span class="language-css">    <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;</span><br><span class="language-css">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="language-css">    <span class="hljs-attribute">text-align</span>: center;</span><br><span class="language-css">    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">100px</span>;</span><br><span class="language-css">  &#125;</span><br><span class="language-css">  <span class="hljs-selector-class">.home</span> &#123;</span><br><span class="language-css">    <span class="hljs-attribute">color</span>: <span class="hljs-number">#f00</span>;</span><br><span class="language-css">  &#125;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.el-menu--collapse</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-class">.el-submenu</span> &gt; <span class="hljs-selector-class">.el-submenu__title</span> <span class="hljs-selector-tag">span</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">  <span class="hljs-attribute">visibility</span>: hidden;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: inline-block;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.el-menu--collapse</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-class">.el-menu-item</span> &gt; <span class="hljs-selector-tag">span</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">overflow</span>: hidden;</span><br><span class="language-css">  <span class="hljs-attribute">visibility</span>: hidden;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: inline-block;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.el-menu--collapse</span> &gt; <span class="hljs-selector-tag">div</span> &gt; <span class="hljs-selector-class">.el-submenu</span> &gt; <span class="hljs-selector-class">.el-submenu__title</span> <span class="hljs-selector-class">.el-submenu__icon-arrow</span> &#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>: none;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>menuItem.vue</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;!item.children&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.path  + item.path&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;home&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;item.icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; item.title &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-submenu</span> <span class="hljs-attr">v-else</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.path&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;item.icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; item.title &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">el-menu-item</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:index</span>=<span class="hljs-string">&quot;item.path + &#x27;/&#x27; + smallItem.path&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;smallItem in item.children&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;smallItem.path&quot;</span></span></span><br><span class="hljs-tag"><span class="language-xml">      &gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;smallItem.icon&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123; &#123; smallItem.title &#125;</span><span class="language-xml">&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">el-menu-item</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-submenu</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> </span></span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  props: &#123;</span><br><span class="hljs-template-variable">    item: Object,</span><br><span class="hljs-template-variable">  &#125;</span><span class="language-xml">,</span><br><span class="language-xml">&#125;;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h2 id="6-面试回答-后端提供的路由数据如何动态渲染"><a href="#6-面试回答-后端提供的路由数据如何动态渲染" class="headerlink" title="6. 面试回答: 后端提供的路由数据如何动态渲染"></a>6. 面试回答: 后端提供的路由数据如何动态渲染</h2><ul>
<li>用户登录后，后台会根据用户角色，返回对应的路由配置数据</li>
<li>前端接收数据后，用router.addRoute动态添加路由信息</li>
<li>在导航菜单页面根据路由配置数据动态渲染导航菜单</li>
</ul>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/vue/" class="category-chain-item">vue</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>21-后台管理系统-实现流程</div>
      <div>http://example.com/2022/05/26/21-后台管理系统-实现流程/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>smilinh-sheep</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年5月26日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/05/26/26-%E8%B7%A8%E5%9F%9F%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/" title="26-跨域的三种方式">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">26-跨域的三种方式</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/05/26/4.v-for%20&amp;%20%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0%20/" title="4.v-for &amp; 数据更新">
                        <span class="hidden-mobile">4.v-for &amp; 数据更新</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
